<pre class="ch-pre"><code class="ch-code lang-rust"><span class="tok-comment" style="color: #6a737d;font-style:italic">// Rust sample code demonstrating various features</span>
<span class="tok-identifier" style="color: #24292e">use</span> <span class="tok-identifier" style="color: #24292e">std</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">collections</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">HashMap</span><span class="tok-punctuation" style="color: #24292e">;</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">/// A documented struct with lifetime annotations</span>
<span class="tok-decorator" style="">#[derive(Debug, Clone)]</span>
<span class="tok-identifier" style="color: #24292e">pub</span> <span class="tok-identifier" style="color: #24292e">struct</span> <span class="tok-identifier" style="color: #24292e">User</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">name</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span> <span class="tok-type" style="color: #005cc5;font-weight:600">str</span><span class="tok-punctuation" style="color: #24292e">,</span>
    <span class="tok-identifier" style="color: #24292e">age</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">u32</span><span class="tok-punctuation" style="color: #24292e">,</span>
    <span class="tok-identifier" style="color: #24292e">email</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-identifier" style="color: #24292e">String</span><span class="tok-punctuation" style="color: #24292e">,</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-identifier" style="color: #24292e">impl</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-identifier" style="color: #24292e">User</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-comment" style="color: #6a737d;font-style:italic">/// Creates a new User instance</span>
    <span class="tok-identifier" style="color: #24292e">pub</span> <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">new</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">name</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span> <span class="tok-type" style="color: #005cc5;font-weight:600">str</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">age</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">u32</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">email</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-identifier" style="color: #24292e">String</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-identifier" style="color: #24292e">Self</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span>
        <span class="tok-identifier" style="color: #24292e">User</span> <span class="tok-bracket-depth-2" style="color: #6f42c1">{</span> <span class="tok-identifier" style="color: #24292e">name</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">age</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">email</span> <span class="tok-bracket-depth-2" style="color: #6f42c1">}</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">}</span>
    
    <span class="tok-identifier" style="color: #24292e">pub</span> <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">greet</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">self</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-identifier" style="color: #24292e">String</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span>
        <span class="tok-function" style="color: #6f42c1;font-weight:600">format!</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-string" style="color: #032f62">&quot;Hello, I&#39;m {} and I&#39;m {} years old!&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">self</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">name</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">self</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">age</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">}</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Enum with various variants</span>
<span class="tok-keyword" style="color: #d73a49;font-weight:600">enum</span> <span class="tok-identifier" style="color: #24292e">Result</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-identifier" style="color: #24292e">T</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">E</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">Ok</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">T</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">,</span>
    <span class="tok-identifier" style="color: #24292e">Err</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">E</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">,</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Traits and implementations</span>
<span class="tok-identifier" style="color: #24292e">trait</span> <span class="tok-identifier" style="color: #24292e">Printable</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">print</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">self</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-identifier" style="color: #24292e">impl</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-identifier" style="color: #24292e">Printable</span> <span class="tok-keyword" style="color: #d73a49;font-weight:600">for</span> <span class="tok-identifier" style="color: #24292e">User</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">print</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">self</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span>
        <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-string" style="color: #032f62">&quot;{:?}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">self</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">}</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Async function</span>
<span class="tok-identifier" style="color: #24292e">async</span> <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">fetch_data</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">url</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">str</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-identifier" style="color: #24292e">Result</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-identifier" style="color: #24292e">String</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">String</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-comment" style="color: #6a737d;font-style:italic">// Simulate async operation</span>
    <span class="tok-identifier" style="color: #24292e">Ok</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-function" style="color: #6f42c1;font-weight:600">format!</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-string" style="color: #032f62">&quot;Data from {}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">url</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Function with various number types</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">calculate</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">i32</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">y</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">f64</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-type" style="color: #005cc5;font-weight:600">f64</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">hex_val</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-number" style="color: #005cc5">0xFF</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">bin_val</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-number" style="color: #005cc5">0b1010</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">oct_val</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-number" style="color: #005cc5">0o777</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-keyword" style="color: #d73a49;font-weight:600">as</span> <span class="tok-type" style="color: #005cc5;font-weight:600">f64</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">*</span> <span class="tok-identifier" style="color: #24292e">y</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">+</span> <span class="tok-identifier" style="color: #24292e">hex_val</span> <span class="tok-keyword" style="color: #d73a49;font-weight:600">as</span> <span class="tok-type" style="color: #005cc5;font-weight:600">f64</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Pattern matching</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">match_example</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">value</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-identifier" style="color: #24292e">Option</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">i32</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-type" style="color: #005cc5;font-weight:600">i32</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">match</span> <span class="tok-identifier" style="color: #24292e">value</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span>
        <span class="tok-identifier" style="color: #24292e">Some</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span> <span class="tok-keyword" style="color: #d73a49;font-weight:600">if</span> <span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-number" style="color: #005cc5">0</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=&gt;</span> <span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">*</span> <span class="tok-number" style="color: #005cc5">2</span><span class="tok-punctuation" style="color: #24292e">,</span>
        <span class="tok-identifier" style="color: #24292e">Some</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=&gt;</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-punctuation" style="color: #24292e">,</span>
        <span class="tok-identifier" style="color: #24292e">None</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=&gt;</span> <span class="tok-number" style="color: #005cc5">0</span><span class="tok-punctuation" style="color: #24292e">,</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">}</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Closures and iterators</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">iterator_example</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">numbers</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-function" style="color: #6f42c1;font-weight:600">vec!</span><span class="tok-bracket-depth-1" style="color: #22863a">[</span><span class="tok-number" style="color: #005cc5">1</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">2</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">3</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">4</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">5</span><span class="tok-bracket-depth-1" style="color: #22863a">]</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">doubled</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-identifier" style="color: #24292e">Vec</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">i32</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-identifier" style="color: #24292e">numbers</span>
        <span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">iter</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span>
        <span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">map</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">|</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-operator" style="color: #d73a49;font-weight:600">|</span> <span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">*</span> <span class="tok-number" style="color: #005cc5">2</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span>
        <span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">filter</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">|</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-operator" style="color: #d73a49;font-weight:600">|</span> <span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-number" style="color: #005cc5">4</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span>
        <span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">collect</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;Doubled and filtered: {:?}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">doubled</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Ownership and borrowing</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">ownership_example</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">mut</span> <span class="tok-identifier" style="color: #24292e">data</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-function" style="color: #6f42c1;font-weight:600">vec!</span><span class="tok-bracket-depth-1" style="color: #22863a">[</span><span class="tok-number" style="color: #005cc5">1</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">2</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">3</span><span class="tok-bracket-depth-1" style="color: #22863a">]</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">reference</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">mut</span> <span class="tok-identifier" style="color: #24292e">data</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">reference</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">push</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-number" style="color: #005cc5">4</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">slice</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">data</span><span class="tok-bracket-depth-1" style="color: #22863a">[</span><span class="tok-number" style="color: #005cc5">1</span><span class="tok-operator" style="color: #d73a49;font-weight:600">..</span><span class="tok-number" style="color: #005cc5">3</span><span class="tok-bracket-depth-1" style="color: #22863a">]</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;Slice: {:?}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">slice</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Macro usage</span>
<span class="tok-function" style="color: #6f42c1;font-weight:600">macro_rules!</span> <span class="tok-identifier" style="color: #24292e">create_function</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">$</span><span class="tok-identifier" style="color: #24292e">func_name</span><span class="tok-punctuation" style="color: #24292e">:</span><span class="tok-identifier" style="color: #24292e">ident</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=&gt;</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span>
        <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">$</span><span class="tok-identifier" style="color: #24292e">func_name</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span> <span class="tok-bracket-depth-2" style="color: #6f42c1">{</span>
            <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-3" style="color: #005cc5">(</span><span class="tok-string" style="color: #032f62">&quot;Function {:?} called&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-function" style="color: #6f42c1;font-weight:600">stringify!</span><span class="tok-bracket-depth-4" style="color: #e36209">(</span><span class="tok-identifier" style="color: #24292e">$</span><span class="tok-identifier" style="color: #24292e">func_name</span><span class="tok-bracket-depth-4" style="color: #e36209">)</span><span class="tok-bracket-depth-3" style="color: #005cc5">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
        <span class="tok-bracket-depth-2" style="color: #6f42c1">}</span>
    <span class="tok-bracket-depth-1" style="color: #22863a">}</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-function" style="color: #6f42c1;font-weight:600">create_function!</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">foo</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-function" style="color: #6f42c1;font-weight:600">create_function!</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">bar</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span><span class="tok-punctuation" style="color: #24292e">;</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Main function with error handling</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">main</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-identifier" style="color: #24292e">Result</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">Box</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-identifier" style="color: #24292e">dyn</span> <span class="tok-identifier" style="color: #24292e">std</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">error</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">Error</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;&gt;</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">user</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-identifier" style="color: #24292e">User</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">new</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;Alice&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">30</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-string" style="color: #032f62">&quot;alice@example.com&quot;</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">to_string</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">user</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">print</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">result</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-identifier" style="color: #24292e">match_example</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">Some</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-number" style="color: #005cc5">42</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-function" style="color: #6f42c1;font-weight:600">assert_eq!</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-identifier" style="color: #24292e">result</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-number" style="color: #005cc5">84</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-comment" style="color: #6a737d;font-style:italic">// Raw string literal</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">path</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-string" style="color: #032f62">r#&quot;C:\Users\Alice\Documents&quot;#</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;Path: {}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">path</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-comment" style="color: #6a737d;font-style:italic">// Lifetime and references</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">s1</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-identifier" style="color: #24292e">String</span><span class="tok-operator" style="color: #d73a49;font-weight:600">::</span><span class="tok-identifier" style="color: #24292e">from</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;hello&quot;</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">s2</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-string" style="color: #032f62">&quot;world&quot;</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">let</span> <span class="tok-identifier" style="color: #24292e">result</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-identifier" style="color: #24292e">longest</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-identifier" style="color: #24292e">s1</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">s2</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-function" style="color: #6f42c1;font-weight:600">println!</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-string" style="color: #032f62">&quot;Longest: {}&quot;</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">result</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span><span class="tok-punctuation" style="color: #24292e">;</span>
    
    <span class="tok-identifier" style="color: #24292e">Ok</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-2" style="color: #6f42c1">(</span><span class="tok-bracket-depth-2" style="color: #6f42c1">)</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Generic function with lifetimes</span>
<span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">longest</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&lt;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span><span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-identifier" style="color: #24292e">x</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span> <span class="tok-type" style="color: #005cc5;font-weight:600">str</span><span class="tok-punctuation" style="color: #24292e">,</span> <span class="tok-identifier" style="color: #24292e">y</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span> <span class="tok-type" style="color: #005cc5;font-weight:600">str</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">-&gt;</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">&#39;a</span> <span class="tok-type" style="color: #005cc5;font-weight:600">str</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-keyword" style="color: #d73a49;font-weight:600">if</span> <span class="tok-identifier" style="color: #24292e">x</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">len</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&gt;</span> <span class="tok-identifier" style="color: #24292e">y</span><span class="tok-identifier" style="color: #24292e">.</span><span class="tok-identifier" style="color: #24292e">len</span><span class="tok-bracket-depth-1" style="color: #22863a">(</span><span class="tok-bracket-depth-1" style="color: #22863a">)</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span> <span class="tok-identifier" style="color: #24292e">x</span> <span class="tok-bracket-depth-1" style="color: #22863a">}</span> <span class="tok-keyword" style="color: #d73a49;font-weight:600">else</span> <span class="tok-bracket-depth-1" style="color: #22863a">{</span> <span class="tok-identifier" style="color: #24292e">y</span> <span class="tok-bracket-depth-1" style="color: #22863a">}</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Unsafe code</span>
<span class="tok-identifier" style="color: #24292e">unsafe</span> <span class="tok-identifier" style="color: #24292e">fn</span> <span class="tok-identifier" style="color: #24292e">dangerous</span><span class="tok-bracket-depth-0" style="color: #d73a49">(</span><span class="tok-bracket-depth-0" style="color: #d73a49">)</span> <span class="tok-bracket-depth-0" style="color: #d73a49">{</span>
    <span class="tok-identifier" style="color: #24292e">static</span> <span class="tok-identifier" style="color: #24292e">mut</span> <span class="tok-identifier" style="color: #24292e">COUNTER</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">i32</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-number" style="color: #005cc5">0</span><span class="tok-punctuation" style="color: #24292e">;</span>
    <span class="tok-identifier" style="color: #24292e">COUNTER</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">+=</span> <span class="tok-number" style="color: #005cc5">1</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-bracket-depth-0" style="color: #d73a49">}</span>

<span class="tok-comment" style="color: #6a737d;font-style:italic">// Constants</span>
<span class="tok-identifier" style="color: #24292e">const</span> <span class="tok-identifier" style="color: #24292e">MAX_POINTS</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-type" style="color: #005cc5;font-weight:600">u32</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-number" style="color: #005cc5">100_000</span><span class="tok-punctuation" style="color: #24292e">;</span>
<span class="tok-identifier" style="color: #24292e">static</span> <span class="tok-identifier" style="color: #24292e">LANGUAGE</span><span class="tok-punctuation" style="color: #24292e">:</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">&amp;</span><span class="tok-type" style="color: #005cc5;font-weight:600">str</span> <span class="tok-operator" style="color: #d73a49;font-weight:600">=</span> <span class="tok-string" style="color: #032f62">&quot;Rust&quot;</span><span class="tok-punctuation" style="color: #24292e">;</span>
</code></pre>
